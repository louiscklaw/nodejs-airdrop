<style>
  .container-title {
    display: flex;
    flex-direction: row;
    justify-content: center;
    color: rgba(0, 0, 0, 0.5);
  }

  .qr-half {
    display:block;
  }

  @media only screen and (max-width: 768px) {
    .qr-half {
      display: none;
    }

    .qr-container {
      margin: 0;
      padding: 0;
    }
  }

</style>

<script>
  function handleDeleteButtonClick(e) { console.log(e); }
</script>

<div class='container' style="display:flex;flex-direction: row;justify-content: center; gap:1rem;">
  <div>
    <div class='upload-box' style="margin:1rem;">
      <div class='container-title'>
        <div style="display: flex; flex-direction: column; justify-content: center; align-items:center; ">
          <div>
            <h2 id='container_title_text'>
              File upload
            </h2>
          </div>
          <div style="margin-top: 0.5rem;">
            <h4 id='container_subtitle'>
              (Max file size 100MB)
            </h4>
          </div>
        </div>
      </div>

      <div style="display: flex; flex-direction: row; align-items: center">
        <div >
          <div>
            <div style="visibility: hidden;">
              <div>pending_upload</div>
              <input type="file" id="filePendingUpload" multiple  />
              <div>user_select</div>
              <input type="file" id="fileUserSelect" multiple  />
            </div>

            <div>
              <label for='fileUserSelect'>
                <div>
                  <i class='fa-regular fa-folder-open'></i>
                </div>

                <div class='open-file-select-button' id='btn_choose_file_to_upload'>
                  Choose Files To Upload
                </div>
              </label>
              <div id='num-of-files'>
                No Files Chosen
              </div>
              <ul id='files-list'>
              </ul>
            </div>
          </div>

          <div style="visibility: hidden;">
            <div >file list here:</div>
            <div id="file_list">~ no files ~</div>
          </div>

          <div style="visibility: hidden;">
            <button type="button" onclick="uploadFile(event)">
              upload
            </button>
          </div>

          <div class='button-container-outer'>
            <div class='button-container'>
              <div id='btn-back' class='button-label'>
                <i class='fa-solid fa-chevron-left'></i>
                <div id='btn_back_text'></div>
              </div>

              <div id='btn-upload' class='button-label disabled' onclick="uploadFile(event)">
                <i class='fa-solid fa-arrow-up-from-bracket'></i>
                <div id='btn_upload_text'></div>
              </div>
            </div>
          </div>
        </div>

        <div class="qr-container">
          <div class="qr-half">
            <div style="text-align: center;">
              <div>Or, you can get to the </div>
              <div>same website through QR code</div>
            </div>
            <div>
              <div id="canvas" style="padding: 5px; border-radius: 10px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



</div>
<div id="_uploadid" style="visibility: hidden;">{{_uploadid}}</div>

<!-- Script -->
<script src='script.js'></script>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    console.log('window.location', window.location)
    const qrCode = new QRCodeStyling({
      width: 300,
      height: 300,
      type: "svg",
      data: window.location.href,
      image: "https://avatars.githubusercontent.com/u/1376093?v=4",
      dotsOptions: {
        color: "var(--tertiary)",
        type: "rounded"
      },
      backgroundOptions: {
        color: "rgb(255,255,255)",
      },
      imageOptions: {
        crossOrigin: "anonymous",
        margin: 3
      }
    });

    qrCode.append(document.getElementById("canvas"));

  })

</script>
